<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eternity</title>
    <link href="https://fonts.googleapis.com/css2?family=Gilroy:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@200..700&display=swap" rel="stylesheet">    <script>   
    <script>
        // Apply theme immediately to prevent flash of wrong theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.documentElement.setAttribute('data-theme', savedTheme);
        } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>
    <script src="js/login.js" defer></script>
    <script src="https://kit.fontawesome.com/6ef0000307.js" crossorigin="anonymous"></script>
    <script src="js/theme.js" defer></script>
</head>
<body class="bg1 transition-fade">
    <div class="bg2"></div>
    <header>
        <h1>Banco de Questões</h1>
        <p>Selecione o tema para começar!</p>
        <button id="theme-toggle" class="theme-toggle">
            <i class="fas fa-moon"></i>
        </button>       
    </header>
    <nav class="navbar">
        <ul>
            <li class="navli"><a href="index.html">Início</a></li>
            <li class="navli"><a href="questoes.html">Questões</a></li>
        </ul>
    </nav>

    <section id="questoes">
        <div id="login-check">
            <p>Please log in to access the questions.</p>
            <a href="index.html" class="btn">Go to Login</a>
        </div>
        <!-- <main class="geralbtn" style="display: none;">
            <div>
                <a href="questao1.html?category=direito_constitucional_fixacao" class="btnq" onclick="return transitionToPage(this.href)">Direito Constitucional Fixação</a>
            </div>

            <div>
                <a href="questao2.html" class="btnq" onclick="return transitionToPage(this.href)">Direito Constitucional Concursos</a>
            </div>
            
            <div>
                <a href="questao3.html" class="btnq" onclick="return transitionToPage(this.href)">Direito Penal Fixação</a>
            </div>

            <div>
                <a href="matematica.html" class="btnq">Matemática</a>
            </div>

            <div>
                <a href="geoplana.html" class="btnq">Geometria Plana</a>
            </div>            
        </main>  -->
        <main class="geralbtn" style="display: none;">
            <div class="carousel">
                <button class="carousel-button prev">
                    <i class="bi bi-chevron-left"></i>
                </button>
                
                <div class="carousel-container">
                    <div class="carousel-track">
                        <div class="carousel-item">
                            <a href="questao1.html?category=direito_constitucional_fixacao" class="btnq" onclick="return transitionToPage(this.href)">Direito Constitucional <p class="subt">Fixação</p></a>
                        </div>
                        
                        <div class="carousel-item">
                            <a href="questao2.html" class="btnq" onclick="return transitionToPage(this.href)">Direito Constitucional <p class="subt">Concursos</p></a>
                        </div>
                        
                        <div class="carousel-item">
                            <a href="questao3.html" class="btnq" onclick="return transitionToPage(this.href)">Direito Penal <p class="subt">Fixação</p></a>
                        </div>
                        
                        <div class="carousel-item">
                            <a href="matematica.html" class="btnq">Matemática<p class="subt">Básica</p></a>
                        </div>
                        
                        <div class="carousel-item">
                            <a href="geoplana.html" class="btnq">Geometria Plana<p class="subt">Básica</p></a>
                        </div>
                    </div>
                </div>
        
                <button class="carousel-button next">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
        </main>
    </section>

    <script>
    function transitionToPage(href) {
        document.body.classList.add('fade-out');
        setTimeout(function() {
            window.location.href = href;
        }, 500);
        return false;
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        document.body.classList.remove('fade-out');
        
        // Check if user is logged in
        const loggedInUser = localStorage.getItem('loggedInUser');
        const loginCheck = document.getElementById('login-check');
        const questionsContent = document.querySelector('.geralbtn');
        
        if (loggedInUser) {
            loginCheck.style.display = 'none';
            questionsContent.style.display = 'block';
        } else {
            loginCheck.style.display = 'block';
            questionsContent.style.display = 'none';
        }
    });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const track = document.querySelector('.carousel-track');
            const items = document.querySelectorAll('.carousel-item');
            const prevButton = document.querySelector('.carousel-button.prev');
            const nextButton = document.querySelector('.carousel-button.next');
            
            let currentIndex = 0;
            const itemWidth = items[0].offsetWidth + 20; // width + margin
            const maxIndex = items.length - Math.floor(track.parentElement.offsetWidth / itemWidth);
        
            function updateButtons() {
                prevButton.style.opacity = currentIndex === 0 ? '0.5' : '1';
                nextButton.style.opacity = currentIndex >= maxIndex ? '0.5' : '1';
            }
        
            function moveCarousel(direction) {
                if (direction === 'prev' && currentIndex > 0) {
                    currentIndex--;
                } else if (direction === 'next' && currentIndex < maxIndex) {
                    currentIndex++;
                }
                
                track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                updateButtons();
            }
        
            prevButton.addEventListener('click', () => moveCarousel('prev'));
            nextButton.addEventListener('click', () => moveCarousel('next'));
            
            // Initial button state
            updateButtons();
        
            // Update carousel on window resize
            window.addEventListener('resize', () => {
                currentIndex = 0;
                track.style.transform = `translateX(0)`;
                updateButtons();
            });
        });       
    </script>
</body>
</html>
